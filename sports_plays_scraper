import requests

from bs4 import BeautifulSoup

def sports_plays_scraper():
    url = 'https://www.sportsplays.com/pick/eventList/sport_id/1.html'

        # sportsbook ncaa basketball
        # url = 'https://www.sportsbook.com/sbk/sportsbook4/ncaa-football-betting/game-lines.sbk'
    s = requests.session()

    login_data = {
        'username' : '',
        'password': '',
    }
    response = s.post(url, data=login_data)

#entry point for url

    r = s.get('https://www.sportsplays.com/pick/eventList/sport_id/1.html')
    soup = BeautifulSoup(r.content, 'html.parser')
    bet_table = soup.find(id = 'ajax_tabs_event_list')
    tr_s = bet_table.findAll('tr')
    #starting point of table is 3
    i = 3
    #might be minus 2
    table_end = len(tr_s) - 1
    #total rows
    print(table_end)

    date = None
    game_odds = []
    line = None
    while i < table_end:
        td_s = tr_s[i].findAll('td')
        if len(td_s) < 2:
            game_date = td_s[0].text
        else:
            date = game_date
            teams = td_s[1].text.strip()
            point_spreads = td_s[2].text.strip()
            over_under = td_s[3].text.strip()
            moneyline = td_s[4].text.strip()
            line = {
                "date": date, "teams": teams, "point spread": point_spreads,
                "moneyline": moneyline, "O/U": over_under
            }
            game_odds.append(line)
        i += 1

    print(game_odds[6]['O/U'])
    return game_odds

sports_plays_scraper()

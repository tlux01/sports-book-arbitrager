import requests

from bs4 import BeautifulSoup


def sports_book_scraper():
    # oddsshark
    # url = 'https://www.oddsshark.com/ncaaf/odds'
    url = 'https://www.sportsbook.com/sbk/sportsbook4/soccer-betting/today\'s-games-all-today\'s-games.sbk'
    # sportsbook nfl
    #url = 'https://www.sportsbook.com/sbk/sportsbook4/nfl-betting/nfl-game-lines.sbk'

    # sportsbook ncaa basketball
    # url = 'https://www.sportsbook.com/sbk/sportsbook4/ncaa-football-betting/game-lines.sbk'

    r = requests.get(url)
    soup = BeautifulSoup(r.content, 'html.parser')

    event_date = soup.findAll(class_="eventbox")
    odds_list = soup.findAll(class_="market")
    team_name = soup.findAll(class_="team-title")

    i = 0
    a = 0
    g = 0

    # need to add date
    list_of_games = []
    while i < len(team_name):
        team_one = {"index": g, "team": team_name[i].text, "O/U": odds_list[a].text,
                    "spread": odds_list[a + 1].text, "moneyline": odds_list[a + 2].text}
        team_two = {"index": g, "team": team_name[i + 1].text, "O/U": odds_list[a + 3].text,
                    "spread": odds_list[a + 4].text, "moneyline": odds_list[a + 5].text}
        i += 2
        a += 6
        g += 1
        list_of_games.append(team_one)
        list_of_games.append(team_two)
    return list_of_games
